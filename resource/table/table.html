<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		
	<style>
		.mins-btn-green{margin-right: 10px;padding: 4px 23px 4px; background-color: #72d9c0; color: white; border-radius: 3px; cursor: pointer;}
    	
		.plug-table{width: 1157px;   margin: 37px 27px;color: #8d8d8d;}
    	.plug-table thead tr{background-color: #d4d4d4; height: 35px;text-align: center;}
    	.plug-table tbody tr{height: 53px;text-align: center;border-bottom: 1px solid #d4d4d4;}
	</style>
	</head>
	<body>
		 <div id="mins-monitor-task" class="plug-table"> 
     	</div> 
     	
     	
     	<div id="mins-monitor-task2" class="plug-table"> 
     	</div> 
	</body>
	<script   src="../base/jquery-2.1.0.js"></script>
	<script   src="../base/base.js" ></script>
	<script   src="table.js" ></script>
	<script>
	
	
	
	
	
		
	var list4table = function(){
 		
 		var list = [];
 		
 		for(var i =0 ;i<6;i++){
 			var obj = {};
 			obj.taskid   = "D7FJ97667H";
 			obj.tasktime = "2016-08-11  16:30";
 			obj.taskobj	 = i+"条链接";
 			
 			list.push(obj);
 		}
 		
 		return list;
 	};
 	
 	var list4table2 = function(){
 		
 		var list = [];
 		
 		for(var i =0 ;i<6;i++){
 			var obj = {};
 			obj.taskid   = "222"+i;
 			obj.tasktime = "2016-08-11  16:30";
 			obj.taskobj	 = i+"条链接";
 			
 			list.push(obj);
 		}
 		
 		return list;
 	};
 	
 	
 	var formatter4OP = function(obj,value){
 		
 		return "<span class='mins-btn-green ' stype='prepend'>上拼</span> <span class='mins-btn-green' stype='append'>下拼</span><span class='mins-btn-green' stype='del'>删除</span><span class='mins-btn-green' stype='update'>update</span>"
 	};
	
	
	var FunUtil = {};
	
	FunUtil.addEven = function($table){
		
		$table.undelegate("click").delegate("span.mins-btn-green","click",function(){
	 		
	 		
	 		var obj = {taskid:Math.random()*100,tasktime:"2016-08-11  16:30",taskobj:"asd"};
	 			 
	 		var id = $(this).closest("tr").attr("data-index");
	 		
	 		var PageObj = {
	 			append:function(){
	 				$table.xdntable({"append":{id:id,data:[obj]}});
	 			},
	 			prepend:function(){
	 				$table.xdntable({"prepend":{id:id,data:[obj]}});
	 			},
	 			del:function(){
	 				$table.xdntable({"del":{id:id}});
	 			},
	 			update:function(){
	 				
	 				$table.xdntable({"update":{id:id,data:[obj]}});
	 			}
	 		};
			
			var stype = $(this).attr("stype");
			
			PageObj[stype]();
	 	});
		
	};
	
	
	
	var PageInfo = {};
	
	PageInfo.init = function(){
		var $table =$("#mins-monitor-task");
		
		$table.xdntable({
	 		height:"200px",
	 		align:"left",
	 		colors:[],
	 		columns:[{title:"任务编号",width:"10%",filed:"taskid"},
	 				 {title:"检测对象",width:"20%",filed:"taskobj"},
	 				 {title:"提交时间",width:"30%",filed:"tasktime"},
	 				 {title:"操作" ,	width:"40%",filed:"",formatter:formatter4OP}
	 				],
	 		
	 		data:list4table(),
	 		
	 	});
	 	
	 	FunUtil.addEven($table);
	 	
	};
	
	PageInfo.init();
	
	PageInfo.init2 = function(){
		
		
		var $table =$("#mins-monitor-task2");
			
			$table.xdntable({
		 		
		 		colors:[],
		 		columns:[{title:"任务编号",width:"10%",filed:"taskid"},
	 				 {title:"检测对象",width:"20%",filed:"taskobj"},
	 				 {title:"提交时间",width:"30%",filed:"tasktime"},
	 				 {title:"操作" ,	width:"40%",filed:"",formatter:formatter4OP}
	 				],
		 		
		 		data:list4table(),
		 		
		 	});
		  FunUtil.addEven($table);
		
	};
	
	PageInfo.init2(); 
	
	
	
	

 	//prepend append del update
 	
 	
 	
 	//$("#mins-monitor-task").xdntable({"load":list4table2()});
 	
 	 
 
		
		
	</script>

</html>
